# Edit Messages
* Wiring up frontend and backend

`message.service.ts`

```js
updateMessage(message: Message) {
  const body = JSON.stringify(message);
  const headers = new Headers({'Content-Type': 'application/json'});
  return this.http.patch(`http://localhost:3000/message/${message.messageId}`, body, {headers: headers})
      .map((response: Response) => response.json())
      .catch((error: Response) => Observable.throw(error.json()));
}
```

`message-input.component.ts`

```
onSubmit(form: NgForm) {
  if (this.message) {
    // Edit
    this.message.content = form.value.content;
    this.messageService.updateMessage(this.message)
      .subscribe(
         result => console.log(result)
       );
    this.message = null;
  } else {
```

* Update `message-input.component.ts`

```
transformedMessages.push(new Message(message.content, 'Dummy', message.id, null));
```

To this:

```
transformedMessages.push(new Message(message.content, 'Dummy', message._id, null));
```

* We should have done this earlier because `MongoDB` uses `_id` for the autogenerated field whenever a document is created in the Database

## Also update the `addMessage()` method
`message.service.ts`

```js
addMessage(message: Message) {
  const body = JSON.stringify(message);
  const headers = new Headers({'Content-Type': 'application/json'});
  return this.http.post('http://localhost:3000/message', body, {headers: headers})
      .map((response: Response) => {
        const result = response.json();
        const message = new Message(result.obj.content, 'Dummy', result.obj._id, null);
        this.messages.push(message);
        return message;
      })
      .catch((error: Response) => Observable.throw(error.json()));
}
```

* Restart server
* View in browser
* Click Edit button
* Edit the content in the input field
* Click Save
* You will see `Updated message` inside the console
* Refresh browser and the change is persistant!
* We still can add new message just like before


