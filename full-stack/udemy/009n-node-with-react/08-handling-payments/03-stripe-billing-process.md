# Stripe Billing Process
## How do we accept a credit card on our site but never accept the credit card number ourselves?

### Stripe Billing Process Flow
![stripe billing flow](https://i.imgur.com/bsWkLro.png)

1. User clicks on `Add Credits` button
2. We will reach out to Stripe and tell Stripe to show a credit card form
    * We will install a Stripe plugin into our app
    * Anytime we want to accept a credit card number we tell that Stripe plugin to show that credit card form to our users

![credit card form](https://i.imgur.com/jAB0aDC.png)

* The above form will be automatically generated by Stripe themselves and it will display it to our users on our website

3. User enters their credit card details on the Stripe provided form
4. Those credit card numbers will be taken from the form directly by the Stripe plugin and sent directly to the Stripe API
    * At no point in this process will I interact with this credit card number in any way, shape or form
5. Stripe then sends back a token representing the **pending charge**
6. We send that token to our API
7. Our API will make a follow up request over to Stripe and confirm that the charge was successful
8. Then we add credits to user's account

## What's with step #5 and the pending charge
* Think of that part as a sort of authorization
    - Users sends their card numbers to Stripe
    - And we get back this token
        + We then take that token and send it back to our API and find out the total (the amount we want to bill the customer for) and then we bill that customer using that token
    - We have the step on our backend where we charge the customer and the user doesn't have a lot of say as they would on the frontend

## Next
* Sign up for a new Stripe API account
* We'll install Stripe
* And start to set up the form 
