# The Payment Component
* All our Stripe config is done for both the front and back end
* Now we will wire up the React Stripe checkout Component
* [react-stripe-checkout documentation](https://github.com/azmenak/react-stripe-checkout)

## What does react stripe checkout do out of the box?
![mockup](https://i.imgur.com/YbM6fu3.png)

* There will be an `Add Credits` button in the Header Component
* When you click that you should see a UI to add money

![diagram of credit card form](https://i.imgur.com/MuGR9sh.png)

* This form will be created by the Stripe checkout Library
* When we render this form as a React Component it shows a button that says 'Buy Now' (By default)
* When the user clicks that button then the form will appear on the screen
* react-stripe-checkout is not the actual form (by default it shows a button)

## Create Component
* This Component's sole purpose will be to do a little bit of config of react stripe checkout
    - After we create that Component
    - We'll then place it into the Header Component of our app
    - So we can properly display the `Buy Now` button in the Header Component
    - Then whenever the user clicks it, the stripe checkout form will appear

### Create `Payments.js` Component 
* Name it what you feel is best, the is an arbitrary name
* This will be a class based Component

`Payments.js`

```
import React, { Component } from 'react';
import ReactStripeCheckout from 'react-stripe-checkout';

class Payments extends Component {
  render() {
    return <ReactStripeCheckout />;
  }
}

export default Payments;
```

### Add Require config options
* Stripe defaults to US dollars
* `amount` needs to be in **cents**
    - $5 === 500 cents
* `token` - This is a poorly named property
    - Is it the API key?
    - `token` is expecting to receive a callback function
    - That callback function will be called after we have successfully received a auth token from the Stripe API

#### Remember how Stripe works
![how stripe works diagram](https://i.imgur.com/tVddiYL.png)

* After user enters details
* Those details are sent directly to Stripe via the form
* Then Stripe sends back a `token` which represents the charge
* Why is it a bad name?
    - With react any type of callback usually begins with `on` + something
        + `onToken` would be a better name

`Payments.js`

```
import React, { Component } from 'react';
import ReactStripeCheckout from 'react-stripe-checkout';

class Payments extends Component {
  render() {
    debugger;

    return (
      <ReactStripeCheckout
        amount={500}
        token={token => console.log(token)}
        stripeKey={process.env.REACT_APP_STRIPE_KEY}
      />
    );
  }
}

export default Payments;
```

* We add a `debugger` statement to see what the JavaScript looks like when it is generated by this statement

`Payments.js`

```
// more code
return (
  <ReactStripeCheckout
    amount={500}
    token={token => console.log(token)}
    stripeKey={process.env.REACT_APP_STRIPE_KEY}
  />
);
// more code
```

### Show Payments inside Header Component
`Header.js`

```
import React, { Component } from 'react';
import { Link } from 'react-router-dom';
import { connect } from 'react-redux';
import Payments from './Payments';

// more code
```
