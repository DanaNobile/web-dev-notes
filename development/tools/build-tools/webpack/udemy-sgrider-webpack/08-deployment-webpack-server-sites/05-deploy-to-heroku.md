# Deploy to Heroku
* Have a free tier
* One of the easiest to deploy applications to

## We need to do this when deploying to Heroku
* Create `/Procfile`
* Has a capital `P`
* Has no extension
* `Procfile` is automatically executed by Heroku
* Depending on the code we add inside it will tell Heroku what command to run whenever we start up our server

We want to run `node server.js` to start up our server

`Procfile`

`web: node server.js`

* This tells Heroku that start our server as a web server using `$ node server.js`

That's it for `Procfile`

## Heroku Deployments
Work by use of git repositories

![heroku git deployment](https://i.imgur.com/BzGnxMJ.png)

* Note - This is not Github... just a `Git` Repository (just version control by itself)
* We will add all our code to a `Git Repository`
* To deploy it, we just push that repository over to Heroku
* Heroku will then read all of our code that is sitting inside of our repository, take it and execute and run it and start it up as a server

## Step 1 - Create a Git Repository
* Stop the server if you haven't with `ctrl` + `c`
* We already had used `$ git init`
* If you try to run `$ git init` on an exiting git repo it will just say 'yo, you already have a git repo'

## Step 2 - Add all code inside your project
`$ git add .`

## Step 3 - Make Commit and add message
`$ git commit -m 'initial commit'`

## Step 4 - Sign up for Heroku account

## Step 5 - Download and install [Heroku CLI](https://devcenter.heroku.com/articles/heroku-cli)

## Step 6 
Type `$ heroku` and enter your heroku email and password

## Step 7
`$ heroku create`

* Will reach out to heroku and create an application for us
* It will also add a remote target to our git repository
* `$ git remote -v` (shows you the remote target of your git repo)

## Step 8 - Run Deployment
`$ git push heroku master`

![NODE_ENV](https://i.imgur.com/DhAAz7u.png)

* You will see our code is automatically using NODE_ENV of `production`
* With Heroku we don't have to worry about manually setting this variable
* If you get any errors run `$ heroku logs` and that will fetch any output generated by our server

## Step 9 - Open app in browser
`$ heroku open`

### If we make any changes to our app
1. Rerun our build script `$ npm run build`
2. Add our changes with git `$ git add .`
3. Commit our changes with git `$ git commit -m 'some awesome update'`
4. Re-deploy with `$ git push heroku master`

